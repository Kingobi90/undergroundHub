(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4834:function(e,t,s){Promise.resolve().then(s.bind(s,2983))},2983:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var a=s(7437),l=s(2265),n=s(7648),r=s(3145),i=s(5674),c=()=>{let[e,t]=(0,l.useState)(!1);return(0,a.jsxs)("header",{className:"fixed top-0 left-0 right-0 bg-primary-bg border-b border-accent z-50",children:[(0,a.jsxs)("div",{className:"container mx-auto px-4 py-2 flex items-center justify-between",children:[(0,a.jsx)(n.default,{href:"/",className:"text-2xl font-bold text-accent flex items-center gap-1",children:(0,a.jsx)("div",{className:"relative w-10 h-10 overflow-hidden",children:(0,a.jsx)(r.default,{src:"/images/stingers_logo_transparent_cropped.png",alt:"Stingers logo",width:40,height:40,className:"object-contain",priority:!0})})}),(0,a.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,a.jsx)(n.default,{href:"/feed",className:"nav-link",children:"Live Feed"}),(0,a.jsx)(n.default,{href:"/spotted",className:"nav-link",children:"Spotted"}),(0,a.jsx)(n.default,{href:"/events",className:"nav-link",children:"Events"}),(0,a.jsx)(n.default,{href:"/polls",className:"nav-link",children:"Polls"})]}),(0,a.jsx)("button",{className:"hidden md:block btn btn-primary",children:"Submit"}),(0,a.jsx)("button",{className:"md:hidden text-accent focus:outline-none",onClick:()=>{t(!e)},children:e?(0,a.jsx)(i.aHS,{size:24}):(0,a.jsx)(i.Fm7,{size:24})})]}),e&&(0,a.jsx)("div",{className:"md:hidden bg-primary-bg border-b border-accent-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4 flex flex-col space-y-4",children:[(0,a.jsx)(n.default,{href:"/feed",className:"nav-link block py-2",children:"Live Feed"}),(0,a.jsx)(n.default,{href:"/spotted",className:"nav-link block py-2",children:"Spotted"}),(0,a.jsx)(n.default,{href:"/events",className:"nav-link block py-2",children:"Events"}),(0,a.jsx)(n.default,{href:"/polls",className:"nav-link block py-2",children:"Polls"}),(0,a.jsx)("button",{className:"btn btn-primary w-full mt-4",children:"Submit"})]})})]})},o=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"card ".concat(s),children:t})},d=e=>{let{videos:t}=e,[s,n]=(0,l.useState)(0),r=(0,l.useRef)(null),i=()=>{n(e=>(e+1)%t.length)},c=()=>{n(e=>(e-1+t.length)%t.length)},d=t[s];return(0,a.jsx)("div",{className:"relative w-full h-full cursor-pointer",onClick:e=>{let{clientX:t,currentTarget:s}=e,{left:a,width:l}=s.getBoundingClientRect();t-a<l/2?c():i()},children:(0,a.jsxs)(o,{className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full p-4 bg-gradient-to-b from-secondary-bg to-transparent z-10",children:(0,a.jsx)("h3",{className:"text-xl font-bold text-accent",children:d.title})}),(0,a.jsx)("div",{className:"flex-grow flex items-center justify-center overflow-hidden",children:d.videoUrl?(0,a.jsx)("video",{ref:r,src:d.videoUrl,className:"w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0}):d.imageUrl?(0,a.jsx)("img",{src:d.imageUrl,alt:d.title,className:"w-full h-full object-contain"}):null}),(0,a.jsx)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:t.map((e,t)=>(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t===s?"bg-accent":"bg-gray-500")},t))})]})})},m=e=>{let{events:t}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"section-header",children:(0,a.jsx)("span",{children:"\uD83C\uDF89 UPCOMING EVENTS"})}),(0,a.jsx)(o,{children:(0,a.jsx)("div",{className:"divide-y divide-gray-800",children:t.map(e=>(0,a.jsxs)("div",{className:"py-4 first:pt-0 last:pb-0 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("h3",{className:"text-base font-bold text-text-primary",children:e.title}),(0,a.jsx)("span",{className:"text-xs text-accent bg-accent bg-opacity-20 px-2 py-1 rounded-full",children:e.timestamp})]}),e.location&&(0,a.jsxs)("p",{className:"text-sm text-text-primary flex items-center",children:[(0,a.jsx)("span",{className:"text-accent mr-2",children:"\uD83D\uDCCD"}),e.location]}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:e.description}),(0,a.jsx)("button",{className:"btn btn-sm bg-purple-600 text-white hover:bg-purple-700",children:"RSVP"})]},e.id))})})]})},x=e=>{let{polls:t}=e,[s,n]=(0,l.useState)(t),[r,i]=(0,l.useState)(0),c=s[r],[d,m]=(0,l.useState)(null),[x,u]=(0,l.useState)(!1),p=e=>{x||m(e)},h=e=>0===c.totalVotes?0:Math.round(e/c.totalVotes*100);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"section-header mb-0",children:(0,a.jsx)("span",{children:"\uD83D\uDDF3️ CAMPUS POLLS"})}),s.length>1&&(0,a.jsx)("div",{className:"flex gap-1",children:s.map((e,t)=>(0,a.jsx)("button",{onClick:()=>{i(t),m(null),u(!1)},className:"w-2 h-2 rounded-full ".concat(t===r?"bg-accent":"bg-gray-600"),"aria-label":"Poll ".concat(t+1)},t))})]}),(0,a.jsx)(o,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-text-primary",children:c.question}),(0,a.jsx)("div",{className:"space-y-4",children:c.options.map(e=>(0,a.jsxs)("div",{className:"cursor-pointer ".concat(x?"pointer-events-none":""),onClick:()=>p(e.id),children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-sm ".concat(d===e.id?"text-accent":"text-text-primary"),children:e.text}),(0,a.jsxs)("span",{className:"text-sm text-text-secondary",children:[h(e.votes),"%"]})]}),(0,a.jsx)("div",{className:"w-full h-2 bg-primary-bg rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-accent transition-all duration-500 ease-out",style:{width:"".concat(h(e.votes),"%")}})})]},e.id))}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm text-text-secondary",children:[c.totalVotes," votes"]}),(0,a.jsx)("button",{onClick:()=>{null===d||x||(n(e=>e.map((e,t)=>{if(t===r){let t=e.options.map(e=>e.id===d?{...e,votes:e.votes+1}:e);return{...e,options:t,totalVotes:e.totalVotes+1}}return e})),u(!0))},disabled:null===d||x,className:"btn btn-primary ".concat(null===d||x?"opacity-50 cursor-not-allowed":""),children:x?"Voted":"Vote"})]})]})})]})},u=e=>{let{initialMorale:t=75,totalVotes:s=243}=e,[n,r]=(0,l.useState)(t),[c,o]=(0,l.useState)(!1),[d,m]=(0,l.useState)(s),[x,u]=(0,l.useState)(!0),[p,h]=(0,l.useState)(0);(0,l.useEffect)(()=>{let e=()=>{let e=window.scrollY;e>p&&e>100?u(!1):u(!0),h(e)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[p]);let b=e=>{c||(r(Math.max(0,Math.min(100,n+(e?1:-1)))),o(!0),m(d+1))};return(0,a.jsx)("div",{className:"bg-secondary-bg border border-accent w-full py-2 px-4 fixed top-[56px] left-0 right-0 z-40 transition-transform duration-300 ".concat(x?"translate-y-0":"-translate-y-full"),children:(0,a.jsx)("div",{className:"container mx-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[n>=70?(0,a.jsx)(i.vtP,{className:"text-green-500 text-xl"}):n>=40?(0,a.jsx)(i.Lc5,{className:"text-yellow-500 text-xl"}):(0,a.jsx)(i.NV4,{className:"text-red-500 text-xl"}),(0,a.jsx)("span",{className:"text-sm font-medium text-accent",children:"Campus Morale"})]}),(0,a.jsx)("div",{className:"flex-1 relative",children:(0,a.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-4",children:(0,a.jsx)("div",{className:"".concat(n>=70?"bg-green-500":n>=40?"bg-yellow-500":"bg-red-500"," h-4 rounded-full transition-all duration-500 ease-in-out flex items-center justify-center"),style:{width:"".concat(n,"%")},children:(0,a.jsx)("span",{className:"text-xs font-bold text-black drop-shadow-sm",children:n>=85?"Ecstatic":n>=70?"Happy":n>=55?"Good":n>=40?"Meh":n>=25?"Low":"Depressed"})})})}),(0,a.jsxs)("div",{className:"flex items-center gap-1 min-w-[180px]",children:[(0,a.jsx)("span",{className:"text-xs text-text-secondary mr-1",children:"How's it going?"}),(0,a.jsx)("button",{onClick:()=>b(!1),disabled:c,className:"p-1 rounded-full ".concat(c?"opacity-50 cursor-not-allowed":"hover:bg-red-900 hover:bg-opacity-30"),children:(0,a.jsx)(i.bGJ,{className:"text-red-500"})}),(0,a.jsx)("button",{onClick:()=>b(!0),disabled:c,className:"p-1 rounded-full ".concat(c?"opacity-50 cursor-not-allowed":"hover:bg-green-900 hover:bg-opacity-30"),children:(0,a.jsx)(i.spm,{className:"text-green-500"})}),(0,a.jsx)("span",{className:"text-xs text-text-secondary ml-1",children:d})]})]})})})},p=e=>{let{trendingThread:t={id:"1",title:"The library coffee shop is giving out free samples today!",link:"/thread/1"},todayDeals:s=[{id:"1",title:"50% off at Campus Grill",link:"/deals/1"},{id:"2",title:"BOGO Boba at Tea Time",link:"/deals/2"}],weekEvents:r=[{id:"1",title:"End of Semester Bash - Friday",link:"/events/1"},{id:"2",title:"Basketball Finals - Saturday",link:"/events/2"}]}=e,[c,o]=(0,l.useState)(!0),[d,m]=(0,l.useState)(0);return(0,l.useEffect)(()=>{let e=()=>{let e=window.scrollY;e>d&&e>100?o(!1):e<d&&o(!0),m(e)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[d]),(0,a.jsx)("div",{className:"bg-secondary-bg border border-accent w-full py-2 px-4 fixed top-[100px] left-0 right-0 z-30 transition-transform duration-300",style:{transform:c?"translateY(0)":"translateY(-100%)"},children:(0,a.jsx)("div",{className:"container mx-auto",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-accent",children:[(0,a.jsx)(i.NcA,{className:"text-red-500"}),(0,a.jsx)("span",{className:"text-xs font-bold uppercase",children:"Trending:"})]}),(0,a.jsx)(n.default,{href:t.link,className:"ml-2 text-sm text-text-primary hover:text-accent truncate",children:t.title})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-accent",children:[(0,a.jsx)(i.fxx,{className:"text-green-500"}),(0,a.jsx)("span",{className:"text-xs font-bold uppercase",children:"Deals Today:"})]}),(0,a.jsx)("div",{className:"ml-2 overflow-hidden",children:s.map((e,t)=>(0,a.jsx)(n.default,{href:e.link,className:"text-sm text-text-primary hover:text-accent block truncate",children:e.title},e.id))})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-accent",children:[(0,a.jsx)(i.IiJ,{className:"text-blue-500"}),(0,a.jsx)("span",{className:"text-xs font-bold uppercase",children:"Events:"})]}),(0,a.jsx)("div",{className:"ml-2 overflow-hidden",children:r.map((e,t)=>(0,a.jsx)(n.default,{href:e.link,className:"text-sm text-text-primary hover:text-accent block truncate",children:e.title},e.id))})]})]})})})},h=e=>{let{threads:t}=e,[s,n]=(0,l.useState)(null),[r,c]=(0,l.useState)(!1),[d,m]=(0,l.useState)(!1),[x,u]=(0,l.useState)(""),[p,h]=(0,l.useState)("Secret"),[b,v]=(0,l.useState)(t),[f,g]=(0,l.useState)(t.slice(0,5)),[j,y]=(0,l.useState)(1),[N,w]=(0,l.useState)(!0),[k,C]=(0,l.useState)(!1),[S,L]=(0,l.useState)(!1),[F,B]=(0,l.useState)(!1),[D,T]=(0,l.useState)({types:["Secret","Spotted","Campus Tea","Rant"],timeRange:"all"}),[M,E]=(0,l.useState)(""),R=(0,l.useRef)(null),U=function(e){let{root:t=null,rootMargin:s="0px",threshold:a=.1,target:n}=e,[r,i]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=new IntersectionObserver(e=>{let[t]=e;i(t.isIntersecting)},{root:t,rootMargin:s,threshold:a}),l=n.current;return l&&e.observe(l),()=>{l&&e.unobserve(l)}},[n,t,s,a]),r}({target:R,rootMargin:"100px"}),P=()=>{c(!r)},O=()=>{m(!d)};(0,l.useEffect)(()=>{U&&N&&!k&&V()},[U]);let V=(0,l.useCallback)(()=>{C(!0),setTimeout(()=>{let e=f.length,t=H(b);e>=t.length?(w(!1),B(!0)):(g(t.slice(0,e+5)),y(j+1)),C(!1)},500)},[j,b,f.length,D]),H=(0,l.useCallback)(e=>e.filter(e=>{if(!D.types.includes(e.type))return!1;if("all"!==D.timeRange){let t=Y(e.timestamp);if("today"===D.timeRange)return I(t);if("week"===D.timeRange)return G(t);if("month"===D.timeRange)return z(t)}return!0}),[D]),Y=e=>{let t=new Date;if(e.includes("Just now"));else if(e.includes("hours")){let s=parseInt(e.split(" ")[0]);return new Date(t.getTime()-36e5*s)}else if(e.includes("day")){let s=parseInt(e.split(" ")[0]);return new Date(t.getTime()-864e5*s)}return t},I=e=>{let t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},G=e=>{let t=new Date,s=new Date(t);return s.setDate(t.getDate()-t.getDay()),e>=s},z=e=>{let t=new Date;return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},A=(e,t)=>{T({types:e,timeRange:t}),y(1),w(!0),B(!1),g(H(b).slice(0,5)),O()},J=(e,t)=>{let s=s=>s.map(s=>s.id===e?t?{...s,upvotes:s.upvotes+1}:{...s,downvotes:s.downvotes+1}:s);v(s(b)),g(s(f))},_=e=>{n(s===e?null:e)},W=e=>{if(!M.trim())return;let t={id:"comment-".concat(Date.now()),content:M,timestamp:"Just now",upvotes:0},s=s=>s.map(s=>s.id===e?{...s,comments:[...s.comments,t]}:s);v(s(b)),g(s(f)),E("")};return(0,a.jsxs)(o,{className:"overflow-hidden relative",children:[(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-accent",children:"Campus Uncensored"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{L(!0),setTimeout(()=>{y(1),w(!0),B(!1),g(H(b).slice(0,5)),L(!1)},1e3)},className:"p-2 rounded-full hover:bg-accent hover:bg-opacity-20 ".concat(S?"animate-spin":""),disabled:S,"aria-label":"Refresh feed",children:(0,a.jsx)(i.dnK,{className:"text-accent"})}),(0,a.jsx)("button",{onClick:O,className:"p-2 rounded-full hover:bg-accent hover:bg-opacity-20","aria-label":"Filter posts",children:(0,a.jsx)(i.ulB,{className:"text-accent"})})]})]}),(D.types.length<4||"all"!==D.timeRange)&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[D.types.length<4&&(0,a.jsxs)("div",{className:"text-xs bg-accent bg-opacity-20 text-accent py-1 px-3 rounded-full",children:["Filtered by: ",D.types.join(", ")]}),"all"!==D.timeRange&&(0,a.jsxs)("div",{className:"text-xs bg-accent bg-opacity-20 text-accent py-1 px-3 rounded-full flex items-center gap-1",children:[(0,a.jsx)(i.IiJ,{size:10}),D.timeRange.charAt(0).toUpperCase()+D.timeRange.slice(1)]})]}),(0,a.jsxs)("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 mb-16",children:[f.map(e=>(0,a.jsxs)("div",{className:"border border-gray-800 rounded-lg p-3 bg-primary-bg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("span",{className:"text-xs text-accent font-medium px-2 py-1 bg-accent bg-opacity-20 rounded-full",children:e.type}),(0,a.jsx)("span",{className:"text-xs text-text-secondary",children:e.timestamp})]}),(0,a.jsx)("p",{className:"text-text-primary mb-3 text-sm md:text-base",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("button",{onClick:()=>J(e.id,!0),className:"flex items-center gap-1 text-xs text-text-secondary hover:text-accent",children:[(0,a.jsx)(i.spm,{})," ",(0,a.jsx)("span",{children:e.upvotes})]}),(0,a.jsxs)("button",{onClick:()=>J(e.id,!1),className:"flex items-center gap-1 text-xs text-text-secondary hover:text-accent",children:[(0,a.jsx)(i.bGJ,{})," ",(0,a.jsx)("span",{children:e.downvotes})]}),(0,a.jsxs)("button",{onClick:()=>_(e.id),className:"flex items-center gap-1 text-xs text-text-secondary hover:text-accent",children:[(0,a.jsx)(i.DCG,{})," ",(0,a.jsx)("span",{children:e.comments.length})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{className:"text-xs text-text-secondary hover:text-accent",children:(0,a.jsx)(i.Lrt,{})}),(0,a.jsx)("button",{className:"text-xs text-text-secondary hover:text-accent",children:(0,a.jsx)(i.LCi,{})})]})]}),s===e.id&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-800",children:[e.comments.map(e=>(0,a.jsxs)("div",{className:"py-2 border-b border-gray-800 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-accent",children:"Anonymous"}),(0,a.jsx)("span",{className:"text-xs text-text-secondary",children:e.timestamp})]}),(0,a.jsx)("p",{className:"text-sm text-text-primary my-1",children:e.content}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("button",{className:"flex items-center gap-1 text-xs text-text-secondary hover:text-accent",children:[(0,a.jsx)(i.spm,{})," ",(0,a.jsx)("span",{children:e.upvotes})]})})]},e.id)),(0,a.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Add a comment...",className:"flex-1 bg-primary-bg border border-gray-800 rounded px-3 py-1 text-sm focus:outline-none focus:border-accent",value:M,onChange:e=>E(e.target.value)}),(0,a.jsx)("button",{onClick:()=>W(e.id),className:"btn btn-primary text-xs py-1 px-3",disabled:!M.trim(),children:"Post"})]})]})]},e.id)),k&&(0,a.jsx)("div",{className:"flex justify-center py-4",children:(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-accent border-t-transparent rounded-full animate-spin"})}),(0,a.jsx)("div",{ref:R,className:"h-4"}),F&&!k&&(0,a.jsxs)("div",{className:"text-center py-6 border-t border-gray-800 mt-4",children:[(0,a.jsx)("p",{className:"text-text-secondary text-sm",children:"You're all caught up! \uD83C\uDF89"}),(0,a.jsx)("p",{className:"text-text-secondary text-xs mt-1",children:"Check back later for new posts"})]})]})]}),(0,a.jsx)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center",children:(0,a.jsx)("button",{onClick:P,className:"btn btn-primary text-sm px-8 py-2",children:"sup"})}),d&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-secondary-bg border border-accent rounded-lg w-full max-w-md p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-accent mb-4",children:"Filter Posts"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Post Types"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["Secret","Spotted","Campus Tea","Rant"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:D.types.includes(e),onChange:t=>{let s=t.target.checked?[...D.types,e]:D.types.filter(t=>t!==e);T({...D,types:s})},className:"form-checkbox text-accent"}),(0,a.jsx)("span",{className:"text-text-primary text-sm",children:e})]},e))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Time Range"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["all","today","week","month"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"radio",checked:D.timeRange===e,onChange:()=>T({...D,timeRange:e}),className:"form-radio text-accent"}),(0,a.jsx)("span",{className:"text-text-primary text-sm capitalize",children:e})]},e))})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:O,className:"px-4 py-2 text-text-secondary hover:text-text-primary",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>A(D.types,D.timeRange),className:"btn btn-primary",children:"Apply Filters"})]})]})}),r&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-secondary-bg border border-accent rounded-lg w-full max-w-md p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-accent mb-4",children:"Share with Campus Uncensored"}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!x.trim())return;let t={id:"thread-".concat(Date.now()),type:p,content:x,timestamp:"Just now",upvotes:0,downvotes:0,comments:[]};v([t,...b]),g([t,...f]),u(""),P()},children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Type"}),(0,a.jsxs)("select",{className:"w-full bg-primary-bg border border-gray-800 rounded px-3 py-2 focus:outline-none focus:border-accent",value:p,onChange:e=>h(e.target.value),children:[(0,a.jsx)("option",{value:"Secret",children:"Secret"}),(0,a.jsx)("option",{value:"Spotted",children:"Spotted"}),(0,a.jsx)("option",{value:"Campus Tea",children:"Campus Tea"}),(0,a.jsx)("option",{value:"Rant",children:"Rant"})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Your Post"}),(0,a.jsx)("textarea",{className:"w-full bg-primary-bg border border-gray-800 rounded px-3 py-2 h-32 focus:outline-none focus:border-accent",placeholder:"What's on your mind?",value:x,onChange:e=>u(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)("button",{type:"button",onClick:P,className:"px-4 py-2 text-text-secondary hover:text-text-primary",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!x.trim(),children:"Post"})]})]})]})})]})};s(5046);var b=e=>{var t,n,r,c,o;let{className:d=""}=e,m=(0,l.useRef)(null),[x,u]=(0,l.useState)(null),[p,h]=(0,l.useState)(!1),[b,v]=(0,l.useState)(!0),f=(0,l.useRef)(null),g=(0,l.useRef)({}),[j,y]=(0,l.useState)({}),N={ev:{id:"ev",name:"EV Building",coordinates:[45.4952,-73.5789],crowdLevel:"medium",peopleCount:"40+"},"lb-2":{id:"lb-2",name:"LB Library - Floor 2",coordinates:[45.497,-73.5774],crowdLevel:"high",peopleCount:"55+"},"lb-3":{id:"lb-3",name:"LB Library - Floor 3",coordinates:[45.497,-73.5774],crowdLevel:"medium",peopleCount:"30+"},"lb-4":{id:"lb-4",name:"LB Library - Floor 4",coordinates:[45.497,-73.5774],crowdLevel:"low",peopleCount:"15+"},"lb-5":{id:"lb-5",name:"LB Library - Floor 5",coordinates:[45.497,-73.5774],crowdLevel:"low",peopleCount:"10+"},"hall-2":{id:"hall-2",name:"Hall Building - Floor 2",coordinates:[45.4973,-73.579],crowdLevel:"high",peopleCount:"60+"},"hall-3":{id:"hall-3",name:"Hall Building - Floor 3",coordinates:[45.4973,-73.579],crowdLevel:"high",peopleCount:"50+"},"hall-4":{id:"hall-4",name:"Hall Building - Floor 4",coordinates:[45.4973,-73.579],crowdLevel:"medium",peopleCount:"35+"},"hall-5":{id:"hall-5",name:"Hall Building - Floor 5",coordinates:[45.4973,-73.579],crowdLevel:"medium",peopleCount:"30+"},"hall-6":{id:"hall-6",name:"Hall Building - Floor 6",coordinates:[45.4973,-73.579],crowdLevel:"low",peopleCount:"15+"},"hall-7":{id:"hall-7",name:"Hall Building - Floor 7",coordinates:[45.4973,-73.579],crowdLevel:"low",peopleCount:"10+"},mb:{id:"mb",name:"MB Building",coordinates:[45.4953,-73.5798],crowdLevel:"low",peopleCount:"20+"},fg:{id:"fg",name:"FG Building",coordinates:[45.4945,-73.578],crowdLevel:"low",peopleCount:"15+"}},w={lb:{name:"LB Library",floors:["lb-2","lb-3","lb-4","lb-5"],crowdLevel:"medium"},hall:{name:"Hall Building",floors:["hall-2","hall-3","hall-4","hall-5","hall-6","hall-7"],crowdLevel:"high"},ev:{name:"EV Building",floors:[],crowdLevel:"medium"},mb:{name:"MB Building",floors:[],crowdLevel:"low"},fg:{name:"FG Building",floors:[],crowdLevel:"low"}},k=()=>{let e={},t={};return Object.keys(N).forEach(s=>{let a=N[s],l=1,n=15;if("medium"===a.crowdLevel?(l=5,n=25):"low"===a.crowdLevel&&(l=10,n=45),"high"===a.crowdLevel){let e;let a=Object.keys(t).filter(e=>"high"===N[e].crowdLevel).map(e=>t[e]);do e=Math.floor(Math.random()*(n-l+1))+l;while(a.includes(e));t[s]=e}else t[s]=Math.floor(Math.random()*(n-l+1))+l;e[s]={...a,lastUpdated:"".concat(t[s]," mins ago")}}),e};(0,l.useEffect)(()=>{y(k());let e=setInterval(()=>{y(k())},3e5);return()=>clearInterval(e)},[]),(0,l.useEffect)(()=>(f.current&&(f.current.remove(),f.current=null,g.current={}),m.current&&s.e(212).then(s.t.bind(s,759,23)).then(e=>{if(!f.current){let t=e.map(m.current).setView([45.497,-73.5774],16);e.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:19}).addTo(t),f.current=t,Object.values(j).forEach(s=>{C(e,t,g.current,s.id,s)}),h(!0)}}),()=>{f.current&&(f.current.remove(),f.current=null,g.current={})}),[j]);let C=(e,t,s,a,l)=>{let n=e.divIcon({className:"",html:'<div class="marker-icon '.concat(l.crowdLevel,'"></div>'),iconSize:[20,20],iconAnchor:[10,10]}),r=e.marker(l.coordinates,{icon:n}).addTo(t).bindPopup('\n        <div class="custom-popup">\n          <h3>'.concat(l.name,"</h3>\n          <p>").concat(l.peopleCount," people here</p>\n          <p><i>Updated ").concat(l.lastUpdated,"</i></p>\n        </div>\n      "),{className:"custom-popup"});s[a]=r},S=e=>{u(e);let t=f.current,s=g.current,a=j[e];if(!t||!s||!a)return;let l=e.split("-")[0],n=s[e]?e:l+"-2";t.setView(a.coordinates,18,{animate:!0,duration:1}),s[n]&&s[n].openPopup()},L=[...Object.values(j)].sort((e,t)=>{let s={high:3,medium:2,low:1};return s[t.crowdLevel]-s[e.crowdLevel]}).slice(0,3),F=e=>{switch(e){case"high":return 90;case"medium":return 60;case"low":return 30;default:return 0}},B=e=>{switch(e){case"high":return"Crowded";case"medium":return"Moderate";case"low":return"Empty";default:return"Unknown"}},D=e=>{if(e.includes("LB")||e.includes("Library")){let t=e.match(/Floor (\d+)/);return"LB ".concat(t?t[1]:"")}if(e.includes("Hall")){let t=e.match(/Floor (\d+)/);return"Hall ".concat(t?t[1]:"")}if(e.includes("MB")||e.includes("Molson")){let t=e.match(/Floor (\d+)/);return"MB ".concat(t?t[1]:"")}if(e.includes("EV")){let t=e.match(/Floor (\d+)/);return"EV ".concat(t?t[1]:"")}return e};return(0,a.jsxs)("div",{className:"bg-secondary-bg border border-accent rounded-lg overflow-hidden ".concat(d),children:[(0,a.jsx)("div",{className:"p-4 border-b border-accent",children:(0,a.jsxs)("h2",{className:"text-xl font-bold text-accent flex items-center gap-2",children:[(0,a.jsx)(i.Nh4,{})," Campus Crowd Map"]})}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 p-3 border-b border-accent bg-primary-bg",children:Object.entries(w).map(e=>{let[t,s]=e;return(0,a.jsx)("button",{onClick:()=>S(t),className:"px-3 py-1 rounded-md text-sm font-medium transition-all ".concat(x===t?"bg-accent text-black":"bg-secondary-bg text-accent hover:bg-accent hover:bg-opacity-20"),children:s.name},t)})}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row h-[500px]",children:[(0,a.jsxs)("div",{className:"w-full md:w-64 bg-secondary-bg border-r border-accent overflow-y-auto p-3",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-accent mb-4",children:"Top Crowded Places"}),L.map(e=>(0,a.jsx)("div",{className:"neon-bar-container",onClick:()=>S(e.id),children:(0,a.jsx)("div",{className:"neon-bar neon-bar-".concat(e.crowdLevel),style:{width:"".concat(F(e.crowdLevel),"%")},children:(0,a.jsxs)("div",{className:"neon-bar-content",children:[(0,a.jsx)("div",{className:"neon-bar-name",children:D(e.name)}),(0,a.jsx)("div",{className:"neon-bar-level",children:B(e.crowdLevel)}),(0,a.jsx)("div",{className:"neon-bar-info",children:(0,a.jsx)("span",{className:"neon-bar-time",children:e.lastUpdated})})]})})},e.id)),x&&x.includes("-")&&(0,a.jsxs)("div",{className:"mt-6 p-3 bg-primary-bg rounded border border-accent",children:[(0,a.jsx)("h4",{className:"text-sm font-bold text-accent mb-2",children:"Floor Details"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm",children:null===(t=j[x])||void 0===t?void 0:t.name}),(0,a.jsxs)("p",{className:"text-xs mt-1",children:["People: ",null===(n=j[x])||void 0===n?void 0:n.peopleCount]}),(0,a.jsxs)("p",{className:"text-xs",children:["Updated: ",null===(r=j[x])||void 0===r?void 0:r.lastUpdated]})]})]}),x&&!x.includes("-")&&(null===(o=w[x])||void 0===o?void 0:null===(c=o.floors)||void 0===c?void 0:c.length)>0&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"text-sm font-bold text-accent mb-2",children:"Floors"}),(0,a.jsx)("div",{className:"ml-2",children:w[x].floors.map(e=>{let t=j[e];return e.split("-")[1],(0,a.jsxs)("div",{className:"neon-bar-container",onClick:()=>S(e),children:[(0,a.jsx)("div",{className:"neon-bar neon-bar-".concat(t.crowdLevel),style:{width:"".concat(F(t.crowdLevel),"%")}}),(0,a.jsxs)("div",{className:"neon-bar-content",children:[(0,a.jsx)("div",{className:"neon-bar-name",children:D(t.name)}),(0,a.jsx)("div",{className:"neon-bar-level",children:B(t.crowdLevel)}),(0,a.jsx)("div",{className:"neon-bar-info",children:(0,a.jsx)("span",{className:"neon-bar-time",children:t.lastUpdated})})]})]},e)})})]})]}),(0,a.jsxs)("div",{className:"flex-grow relative",children:[(0,a.jsx)("div",{ref:m,className:"w-full h-full"}),!p&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-primary-bg bg-opacity-80",children:(0,a.jsx)("div",{className:"text-accent",children:"Loading map..."})}),(0,a.jsx)("button",{className:"absolute bottom-4 right-4 bg-primary-bg border border-accent p-2 rounded-full text-accent hover:bg-opacity-80 z-10",onClick:()=>v(!b),children:b?"←":"→"})]})]})]})};let v=[{id:"1",type:"Campus Tea",content:"Just saw the Dean dancing at the campus coffee shop. Moves like he's still in the 90s!",timestamp:"2 hours ago",upvotes:145,downvotes:12,comments:[{id:"c1",content:"I was there too! He was playing air guitar to Bon Jovi \uD83D\uDE02",timestamp:"1 hour ago",upvotes:32},{id:"c2",content:"Someone please tell me there's video of this!",timestamp:"45 minutes ago",upvotes:28}]},{id:"2",type:"Secret",content:"I've been pretending to understand calculus all semester. The final is tomorrow. Send help.",timestamp:"5 hours ago",upvotes:234,downvotes:5,comments:[{id:"c3",content:"Khan Academy saved my life last semester. Try the integral videos!",timestamp:"4 hours ago",upvotes:56},{id:"c4",content:"Meet me at the library at 8pm. I'll help you cram. -Your TA",timestamp:"3 hours ago",upvotes:89}]},{id:"3",type:"Spotted",content:"To the person who returned my lost laptop at the library yesterday - THANK YOU! You saved my entire thesis!",timestamp:"1 day ago",upvotes:312,downvotes:0,comments:[{id:"c5",content:"That was me! So glad you got it back safely :)",timestamp:"20 hours ago",upvotes:145}]},{id:"4",type:"Rant",content:"WHY does the campus WiFi always die during finals week?! I'm trying to study here!",timestamp:"3 hours ago",upvotes:189,downvotes:2,comments:[]}],f=[{id:1,title:"Stingers Mascot Reveal",imageUrl:"/images/stingers-mascot.png"},{id:2,title:"Flash Mob in the Quad",videoUrl:"/videos/muscular-wasp-flexes.mp4"},{id:3,title:"Basketball Team Highlights",videoUrl:"https://assets.mixkit.co/videos/preview/mixkit-basketball-player-doing-a-slam-dunk-2285-large.mp4"},{id:4,title:"New Science Building Tour",videoUrl:"https://assets.mixkit.co/videos/preview/mixkit-tour-of-a-large-university-campus-4363-large.mp4"},{id:5,title:"Dorm Life: Uncensored",videoUrl:"https://assets.mixkit.co/videos/preview/mixkit-young-woman-working-on-a-laptop-in-a-living-room-4830-large.mp4"}],g=[{id:1,title:"End of Semester Bash",location:"The Quad",timestamp:"Friday, 8PM",description:"Join us for the biggest party of the semester! Live DJ, food trucks, and more!"},{id:2,title:"Basketball Finals",location:"Campus Arena",timestamp:"Saturday, 6PM",description:"Cheer on our team as they compete for the championship!"},{id:3,title:"Career Fair",location:"Student Union",timestamp:"Monday, 10AM-4PM",description:"Meet recruiters from top companies and explore job opportunities."}],j=[{id:1,question:"What's your favorite campus hangout spot?",options:[{id:1,text:"The Quad",votes:45},{id:2,text:"Student Union",votes:32},{id:3,text:"Library Caf\xe9",votes:28},{id:4,text:"Rooftop Garden",votes:18}],totalVotes:123},{id:2,question:"Should finals week be extended to two weeks?",options:[{id:1,text:"Yes, more time to study",votes:24},{id:2,text:"No, one week of stress is enough",votes:78}],totalVotes:102}];function y(){return(0,a.jsxs)("main",{className:"min-h-screen bg-primary-bg",children:[(0,a.jsx)(c,{}),(0,a.jsx)(u,{initialMorale:78,totalVotes:243}),(0,a.jsx)(p,{trendingThread:{id:"1",title:v[0].content,link:"/thread/1"},todayDeals:[{id:"1",title:"50% off at Campus Grill",link:"/deals/1"},{id:"2",title:"BOGO Boba at Tea Time",link:"/deals/2"}],weekEvents:[{id:"1",title:"End of Semester Bash - Friday",link:"/events/1"},{id:"2",title:"Basketball Finals - Saturday",link:"/events/2"}]}),(0,a.jsxs)("div",{className:"container mx-auto px-4 pt-40 pb-10",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 p-4",children:[(0,a.jsx)("div",{className:"w-full lg:w-[680px] flex-shrink-0",children:(0,a.jsx)("div",{className:"h-[896px]",children:(0,a.jsx)(d,{videos:f})})}),(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)(h,{threads:v})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-4 mt-6",children:[(0,a.jsx)(m,{events:g}),(0,a.jsx)(x,{polls:j}),(0,a.jsxs)("div",{className:"bg-secondary-bg border border-accent rounded-lg p-4 text-center lg:col-span-2",children:[(0,a.jsx)("p",{className:"text-text-secondary text-sm mb-2",children:"SPONSORED"}),(0,a.jsx)("p",{className:"text-accent font-bold",children:"Campus Bookstore"}),(0,a.jsx)("p",{className:"text-text-primary text-sm",children:"50% off all UG merch this week!"})]}),(0,a.jsx)("div",{className:"lg:col-span-2 mt-6",children:(0,a.jsx)(b,{})})]})]}),(0,a.jsx)("footer",{className:"bg-secondary-bg border-t border-accent-30 py-4",children:(0,a.jsx)("div",{className:"container mx-auto px-4 text-center text-text-secondary",children:(0,a.jsxs)("p",{children:[" ",new Date().getFullYear()," UG - The Underground Campus Hub"]})})})]})}}},function(e){e.O(0,[641,420,472,971,117,744],function(){return e(e.s=4834)}),_N_E=e.O()}]);